(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{473:function(t,e,a){"use strict";a.r(e);var s=a(26),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"paginationinnerinterceptor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#paginationinnerinterceptor"}},[t._v("#")]),t._v(" PaginationInnerInterceptor")]),t._v(" "),a("h3",{attrs:{id:"支持的数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#支持的数据库"}},[t._v("#")]),t._v(" 支持的数据库")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("mysql，oracle，db2，h2，hsql，sqlite，postgresql，sqlserver，Phoenix，Gauss\n，clickhouse，Sybase，OceanBase，Firebird，cubrid，goldilocks，csiidb，informix，TDengine，redshift")])]),t._v(" "),a("li",[a("p",[t._v("达梦数据库，虚谷数据库，人大金仓数据库，南大通用(华库)数据库，南大通用数据库，神通数据库，瀚高数据库，优炫数据库")])])]),t._v(" "),a("p",[t._v("👉 "),a("a",{attrs:{href:"https://github.com/baomidou/mybatis-plus/pull/1550/files",target:"_blank",rel:"noopener noreferrer"}},[t._v("如果没有支持你需要的数据库，点击参考 Pull Request 我们会第一时间审核"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"属性介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性介绍"}},[t._v("#")]),t._v(" 属性介绍")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("属性名")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("overflow")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("false")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("溢出总页数后是否进行处理(默认不处理,参见 "),a("code",[t._v("插件#continuePage")]),t._v(" 方法)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("maxLimit")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Long")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("单页分页条数限制(默认无限制,参见 "),a("code",[t._v("插件#handlerLimit")]),t._v(" 方法)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("dbType")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("DbType")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("数据库类型(根据类型获取应使用的分页方言,参见 "),a("code",[t._v("插件#findIDialect")]),t._v(" 方法)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("dialect")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("IDialect")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("方言实现类(参见 "),a("code",[t._v("插件#findIDialect")]),t._v(" 方法)")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("建议单一数据库类型的均设置 dbType")])]),t._v(" "),a("h3",{attrs:{id:"自定义的-mapper-method-使用分页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义的-mapper-method-使用分页"}},[t._v("#")]),t._v(" 自定义的 mapper#method 使用分页")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IPage")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserVo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectPageVo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IPage")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or (class MyPage extends Ipage<UserVo>{ private Integer state; })")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyPage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectPageVo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyPage")]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserVo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectPageVo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IPage")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserVo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("select")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("selectPageVo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("resultType")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xxx.xxx.xxx.UserVo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    SELECT id,name FROM user WHERE state=#{state}\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("blockquote",[a("p",[t._v("如果返回类型是 IPage 则入参的 IPage 不能为null,因为 返回的IPage == 入参的IPage; 如果想临时不分页,可以在初始化IPage时size参数传 <0 的值;"),a("br"),t._v("\n如果返回类型是 List 则入参的 IPage 可以为 null(为 null 则不分页),但需要你手动 入参的IPage.setRecords(返回的 List);"),a("br"),t._v("\n如果 xml 需要从 page 里取值,需要 "),a("code",[t._v("page.属性")]),t._v(" 获取")])]),t._v(" "),a("h3",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他:")]),t._v(" "),a("blockquote",[a("p",[t._v("生成 countSql 会在 "),a("code",[t._v("left join")]),t._v(" 的表不参与 "),a("code",[t._v("where")]),t._v(" 条件的情况下,把 "),a("code",[t._v("left join")]),t._v(" 优化掉"),a("br"),t._v("\n所以建议任何带有 "),a("code",[t._v("left join")]),t._v(" 的sql,都写标准sql,即给于表一个别名,字段也要 "),a("code",[t._v("别名.字段")])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意！")]),t._v(" "),a("ul",[a("li",[t._v("多个插件使用的情况，请将分页插件放到 "),a("code",[t._v("插件执行链")]),t._v(" 最后面。如在租户插件前面，会出现  "),a("code",[t._v("COUNT")]),t._v(" 执行  "),a("code",[t._v("SQL")]),t._v(" 不准确问题。")])])]),t._v(" "),a("h2",{attrs:{id:"page"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#page"}},[t._v("#")]),t._v(" Page")]),t._v(" "),a("blockquote",[a("p",[t._v("该类继承了 "),a("code",[t._v("IPage")]),t._v(" 类，实现了 "),a("code",[t._v("简单分页模型")]),t._v(" 如果你要实现自己的分页模型可以继承 "),a("code",[t._v("Page")]),t._v(" 类或者实现 "),a("code",[t._v("IPage")]),t._v(" 类")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("属性名")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("类型")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("默认值")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("records")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("List"),a("T")],1),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("emptyList")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("查询数据列表")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("total")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Long")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("0")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("查询列表总记录数")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("size")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Long")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("10")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("每页显示条数，默认 "),a("code",[t._v("10")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("current")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Long")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("当前页")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("orders")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("List"),a("OrderItem")],1),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("emptyList")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("排序字段信息，允许前端传入的时候，注意 SQL 注入问题，可以使用 "),a("code",[t._v("SqlInjectionUtils.check(...)")]),t._v(" 检查文本")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("optimizeCountSql")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("自动优化 COUNT SQL 如果遇到 "),a("code",[t._v("jSqlParser")]),t._v(" 无法解析情况，设置该参数为 "),a("code",[t._v("false")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("optimizeJoinOfCountSql")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("自动优化 COUNT SQL 是否把 join 查询部分移除")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("searchCount")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("boolean")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("true")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("是否进行 count 查询，如果指向查询到列表不要查询总记录数，设置该参数为 "),a("code",[t._v("false")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("maxLimit")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Long")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("单页分页条数限制")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("countId")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("String")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[a("code",[t._v("xml")]),t._v(" 自定义 "),a("code",[t._v("count")]),t._v(" 查询的 "),a("code",[t._v("statementId")])])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);